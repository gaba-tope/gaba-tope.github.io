<div id="post-data" data-post-id="{{ page.id }}"></div>

<link rel="stylesheet" href="/assets/css/commenting.css">

<form id="comment">
    <div class="input-row">
        <input type="text" id="name" placeholder="Name (필명)">
        <input type="password" id="password" placeholder="Password (비밀번호)">
        <label class="switch">
            <input type="checkbox" id="toggle-password">
            <span class="slider round"></span>
        </label>
        <!-- <label><input type="checkbox" id="toggle-password">Show</label> -->
    </div>
    <textarea id="message" placeholder="Please enter your message. 독자 여러분의 댓글은 큰 힘이 됩니다!&#10;댓글달기 귀찮다면 하트라도 눌러주세요 ^0^ "></textarea>
    <!-- <label for="secret-comment"> (체크박스를 이용한 비밀글 기능; 자물쇠 버튼으로 대체.)
        <input type="checkbox" id="secret-comment"> Secret Comment
    </label> -->
    

    <div class="secret-row">
        <div style="display: flex; align-items: center; gap: 10px;">
        <button type="button" class="lock-button" id="secret-toggle">
            <svg class="lock-icon" id="lock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <circle cx="12" cy="16" r="1"></circle>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
            </svg>
        </button>
        <span class="secret-message" id="secret-message" style="display: none;">
            Secret message (비밀댓글). 작성자와 관리자만 볼 수 있어요.
        </span>
        </div>
        <input type="submit" value="Post Comment">
    </div>
</form>

<div id="comments-container">
</div>

<!-- <script src="/assets/scripts/argon2-browser/dist/argon2.js"></script> -->
<script src="https://unpkg.com/dompurify@1.0.8/dist/purify.js"></script> <!--For Sanitizing HTML-->
<script src="https://unpkg.com/blueimp-md5@2.3.0/js/md5.min.js"></script> <!--For MD5 Hash Function for password-->
<script src="https://unpkg.com/showdown/dist/showdown.min.js"></script> <!--For markdown to HTML rendering-->
<script src="https://www.gstatic.com/firebasejs/11.2.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore-compat.js"></script>
<script type="module" src="/assets/scripts/commenting.js"></script>  <!--/scripts/customJS/fireBase.js-->
